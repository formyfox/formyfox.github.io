<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Princess</title>
    <link rel="icon" href="fox.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body onload="myFunction()">
    <div id="loader">
        <div class="mail">
            <img src="mail.gif" alt="an illustration of a mail" />
            <h1> Special mail delivery for you, my princess!! </h1>
        </div>
    </div>
    
    <div id="myDiv" class="animate-bottom" style="display: none;">
        <div class="container">
            <div class="envelope-wrapper">
                <div class="envelope">
                    <div class="front"></div>
                    <div class="letter">
                        <div class="text">
                            <strong> Hey baby! </strong>
                            <p>
                                Thank you, my love, for being so patient. 
                                I’m sorry it took me so long. 
                                I have so much to share with you, 
                                and I’ve put all of this together just for you. 
                                (Please click the button below.)
                            </p>
                            <img src="mwah.gif" alt="a kiss for you" />
                        </div>
                        <div class="hearts">
                            <div class="one"></div>
                            <div class="two"></div>
                            <div class="three"></div>
                            <div class="four"></div>
                            <div class="five"></div>
                        </div>
                    </div>
                </div>
                <div id="heart" class="heart"></div>
                <button id="clickButton" class="click-button" style="display: none;" onclick="redirect()">
                    <div class="left"></div>
                    <div class="right"></div>
                    <div class="content">
                        <span> Click Here </span> 
                    </div>
                </button>
            </div>
        </div>
    </div>
    <script>
        function myFunction() {
            setTimeout(showPage, 3000);
        }

        function showPage() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("myDiv").style.display = "block";
        }

        window.addEventListener("load", () => {
            const loader = document.querySelector("#loader");
            loader.classList.add("loader--hidden");

            loader.addEventListener("transitionend", () => {
                document.body.removeChild(loader);
            });
        });

        const envelope = document.querySelector('.envelope-wrapper');
        const heart = document.querySelector('#heart');
        const clickButton = document.querySelector('#clickButton');

        envelope.addEventListener('click', () => {
            envelope.classList.toggle('flap');

            if (!envelope.classList.contains('flap')) {
                clickButton.style.display = 'none';
            }
        });

        heart.addEventListener('click', () => {
            setTimeout(() => {
                clickButton.style.display = 'block';
            }, 3000); 
        });

        function redirect() {
            window.location.href = 'letter.html'; 
       }
    </script>
</body>
</html>
